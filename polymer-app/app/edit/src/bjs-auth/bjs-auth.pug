link(rel="import", href="/bower_components/polymer/polymer.html")
link(rel="import", href="/bower_components/iron-ajax/iron-ajax.html")
link(rel="import", href="/bower_components/iron-icon/iron-icon.html")
link(rel="import", href="/bower_components/iron-icons/iron-icons.html")
link(rel="import", href="/bower_components/paper-button/paper-button.html")
link(rel="import", href="../shared-styles.html")
link(rel="import", href="../bjs-app/bjs-behaviors.html")

dom-module#bjs-auth-service
  template
    style.
      :host {
        display: none;
      }

    iron-ajax#authenticated(
      url="/authenticated",
      headers='{"Accept":"application/json"}'
      handleAs="json",
      on-response="onAjaxResponse",
      on-error="onAjaxError"
    )

  script(src="bjs-auth-service.js")

dom-module#bjs-auth
  template
    style(include="shared-styles").
      :host {
        min-width: 40%;
      }
      paper-button {
        background: var(--default-primary-color);
        color: var(--text-primary-color);
      }

      h1, p {
        margin: 0;
      }

      paper-button {
        margin-top: 30px;
      }

    .card
      h1 ButtressJS
      p Administration Console
      paper-button(on-click="login")
        iron-icon(icon="lock-outline")
        | Login with Google

  script(src="bjs-auth.js")
